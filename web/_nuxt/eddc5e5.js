(window.webpackJsonp=window.webpackJsonp||[]).push([[49,34],{1316:function(e,t,n){"use strict";n.r(t);var o=n(651),r=n(205),c={layout:"admin",mixins:[o.default],data:function(){var e=this;return{tableProxy:{ajax:{query:function(){return Object(r.c)()},delete:function(t){return e.updateComment(e.selects,null,!0)}},props:{result:"data"}},tableToolbar:{zoom:!0,custom:!0},tableColumn:[{field:"name",title:"主题名字"},{field:"description",title:"主题描述"},{field:"author",title:"开发作者",slots:{default:"author"}},{field:"version",title:"主题版本"},{title:"操作",slots:{default:"option"}}]}},methods:{chooseTheme:function(path){var e=this;this.$store.dispatch("admin-theme/chooseTheme",path).then((function(){e.$message.success("切换主题成功"),e.$refs.grid.commitProxy("query")})).catch((function(t){return e.$message.error(t)}))},pluginsSetting:function(path,e){this.$router.push(path),this.$store.dispatch("admin/addTag",{name:"".concat(e,"-设置"),path:path})},update:function(e){var t=this,n=this.$loading({lock:!0,text:"正在更新",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("admin-theme/downloadTheme",{url:e}).then((function(){t.$message.success("更新成功！"),n.close(),t.$refs.grid.commitProxy("query")})).catch((function(e){t.$message.error(e),n.close()}))}}},l=n(5),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{staticClass:"box-card"},[n("vxe-grid",{ref:"grid",attrs:{border:"",resizable:"",height:"780","row-id":"id","pager-config":{pageSize:10},"proxy-config":e.tableProxy,"toolbar-config":e.tableToolbar,columns:e.tableColumn},scopedSlots:e._u([{key:"author",fn:function(t){var o=t.row;return[n("a",{attrs:{href:o.url,target:"_blank"}},[e._v(e._s(o.author))])]}},{key:"option",fn:function(t){var o=t.row;return[o.version!==o.new_version?n("vxe-button",{attrs:{icon:"fa fa-refresh",title:"更新",circle:""},on:{click:function(t){return e.update(o.download_url)}}}):e._e(),e._v(" "),n("vxe-button",{attrs:{icon:"fa fa-cog",title:"设置",circle:""},on:{click:function(t){return e.pluginsSetting("/admin/setting/theme/"+o.dir,o.name)}}}),e._v(" "),n("vxe-button",{directives:[{name:"show",rawName:"v-show",value:!o.enable,expression:"!row.enable"}],attrs:{icon:"fa fa-check",title:"启用",circle:""},on:{click:function(t){return e.chooseTheme(o.dir)}}})]}}])})],1)],1)}),[],!1,null,"914d259a",null);t.default=component.exports},651:function(e,t,n){"use strict";n.r(t),t.default={head:function(){return{title:"XBlog后台管理系统"}}}}}]);