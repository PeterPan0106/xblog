(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{669:function(t,e,n){var content=n(696);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(9).default)("57bc5cd6",content,!0,{sourceMap:!1})},695:function(t,e,n){"use strict";n(669)},696:function(t,e,n){var c=n(8)(!1);c.push([t.i,".vditor-tooltipped img{width:20px;padding:2px;margin-top:-5px}.vditor-tooltipped img:hover{border:1px solid #ddd;background:#eee}",""]),t.exports=c},707:function(t,e,n){"use strict";n.r(e);n(119),n(95);var c,o,l=n(97),d=n.n(l),r={name:"blueBackground",tip:"蓝色背景",click:function(){c.updateValue("[info]".concat(c.getSelection(),"[/info]"))},icon:'<img alt src="/static/images/buttons/info.png">'},m={name:"dangerBackground",tip:"红色背景",click:function(){c.updateValue("[danger]".concat(c.getSelection(),"[/danger]"))},icon:'<img alt src="/static/images/buttons/danger.png">'},f={name:"greenBackground",tip:"绿色背景",click:function(){c.updateValue("[success]".concat(c.getSelection(),"[/success]"))},icon:'<img alt  src="/static/images/buttons/success.png">'},h={name:"infoBox",tip:"蓝色标题栏",click:function(){c.updateValue('[infobox title="标题"]'.concat(c.getSelection(),"[/infobox]"))},icon:'<img alt  src="/static/images/buttons/infobox.png">'},k={name:"dangerBox",tip:"红色标题栏",click:function(){c.updateValue('[dangerbox title="标题"]'.concat(c.getSelection(),"[/dangerbox]"))},icon:'<img alt  src="/static/images/buttons/dangerbox.png">'},x={name:"successBox",tip:"绿色标题栏",click:function(){c.updateValue('[successbox title="标题"]'.concat(c.getSelection(),"[/successbox]"))},icon:'<img alt  src="/static/images/buttons/successbox.png">'},v={name:"block",tip:"代码块",click:function(){c.updateValue("[block]".concat(c.getSelection(),"[/block]"))},icon:'<img alt  src="/static/images/buttons/codeblock.png">'},V={name:"collSpan",tip:"展开收缩",click:function(){c.updateValue('[collapse title="标题"]'.concat(c.getSelection(),"[/collapse]"))},icon:'<img alt  src="/static/images/buttons/accordion.png">'},w={name:"music",tip:"网易云音乐",click:function(){c.updateValue('[music autoplay="0"]'.concat(c.getSelection(),"[/music]"))},icon:'<img alt  src="/static/images/buttons/music.png">'},S={name:"bilibili",tip:"哔哩哔哩",click:function(){c.updateValue('[bilibili cid="" page="1"]'.concat(c.getSelection(),"[/bilibili]"))},icon:'<img alt  src="/static/images/buttons/bilibili.png">'},y={name:"yBtn",tip:"云盘下载",click:function(){c.updateValue("[ypbtn]".concat(c.getSelection(),"[/ypbtn]"))},icon:'<img alt  src="/static/images/buttons/ypbtn.png">'},B={name:"PostEdit",props:{html:{type:String,default:""},md:{type:String,default:""}},data:function(){return o=this,{option:{height:740,resize:{enable:!0},tab:"    ",typewriterMode:!0,placeholder:"随便写点什么吧~",counter:{enable:!0,type:"text"},mode:"ir",icon:"material",toolbar:["undo","redo","|","bold","italic","strike","quote","line","|","headings","list","ordered-list","outdent","indent","|","upload","link","code","inline-code","check","table","emoji","|","both","edit-mode","fullscreen","preview","outline","export","|",r,m,f,h,k,x,v,V,w,S,y],cache:{enable:!1},input:function(){o.$emit("update:html",c.getHTML()),o.$emit("update:md",c.getValue())},upload:{accept:"image/*",handler:function(t){var data=new FormData;data.append("file",t[0]),o.$store.dispatch("admin-file/uploadImage",data).then((function(data){c.focus(),c.updateValue("![](".concat(data.url,")"))}))},multiple:!1},preview:{delay:0}}}},watch:{html:function(content){var t=this;try{setTimeout((function(){1===c.getValue().length&&null!==c&&""!==t.html&&c.setValue(t.md?t.md:t.html)}),200)}catch(t){this.$message.error("加载出现问题，请尝试关闭并重新进入！")}}},mounted:function(){var t=this;this.init(),setTimeout((function(){d()(".vditor-reset").on("paste",(function(e){var n=(e.clipboardData||e.originalEvent.clipboardData).items;if(0!==n.length&&n[0].type.includes("image")){var o=n[0].getAsFile(),data=new FormData;data.append("file",o),t.$store.dispatch("admin-file/uploadImage",data).then((function(data){c.focus(),c.updateValue("![](".concat(data.url,")"))}))}}))}),500)},methods:{setContent:function(content){c.setValue(content)},init:function(){this.Vditor=n(759),n(760),c=new this.Vditor("editor",this.option)}}},$=(n(695),n(5)),component=Object($.a)(B,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"editor",attrs:{id:"editor"}})])}],!1,null,null,null);e.default=component.exports}}]);