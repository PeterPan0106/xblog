(window.webpackJsonp=window.webpackJsonp||[]).push([[50,34],{1324:function(t,e,o){"use strict";o.r(e);var n=o(652),r=o(152),c={layout:"admin",mixins:[n.default],data:function(){var t=this;return{tableProxy:{ajax:{query:function(){return Object(r.d)()},delete:function(e){return t.updateComment(t.selects,null,!0)}},props:{result:"data"}},tableToolbar:{buttons:[{code:"shop",name:"主题市场",icon:"fa fa-shopping-bag",status:"primary"}],zoom:!0,custom:!0},tableColumn:[{field:"name",title:"主题名字"},{field:"description",title:"主题描述"},{field:"author",title:"开发作者",slots:{default:"author"}},{field:"version",title:"主题版本"},{title:"操作",slots:{default:"option"}}]}},methods:{toolbarClick:function(t){var code=t.code;t.button;switch(code){case"shop":this.themesShop()}},chooseTheme:function(path){var t=this;this.$store.dispatch("admin-theme/chooseTheme",path).then((function(){t.$message.success("切换主题成功"),t.$refs.grid.commitProxy("query")})).catch((function(e){return t.$message.error(e)}))},pluginsSetting:function(path,t){this.$router.push(path),this.$store.dispatch("admin/addTag",{name:"".concat(t,"-设置"),path:path})},themesShop:function(){this.$router.push("/admin/setting/theme/shop"),this.$store.dispatch("admin/addTag",{name:"主题市场",path:"/admin/setting/theme/shop"})},update:function(t){var e=this,o=this.$loading({lock:!0,text:"正在更新",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("admin-theme/downloadTheme",{url:t}).then((function(){e.$message.success("更新成功！"),o.close(),e.$refs.grid.commitProxy("query")})).catch((function(t){e.$message.error(t),o.close()}))}}},l=o(5),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",{staticClass:"box-card"},[o("vxe-grid",{ref:"grid",attrs:{border:"",resizable:"",height:"780","row-id":"id","pager-config":{pageSize:10},"proxy-config":t.tableProxy,"toolbar-config":t.tableToolbar,columns:t.tableColumn},on:{"toolbar-button-click":t.toolbarClick},scopedSlots:t._u([{key:"author",fn:function(e){var n=e.row;return[o("a",{attrs:{href:n.url,target:"_blank"}},[t._v(t._s(n.author))])]}},{key:"option",fn:function(e){var n=e.row;return[n.version!==n.new_version?o("vxe-button",{attrs:{icon:"fa fa-refresh",title:"更新",circle:""},on:{click:function(e){return t.update(n.download_url)}}}):t._e(),t._v(" "),o("vxe-button",{attrs:{icon:"fa fa-cog",title:"设置",circle:""},on:{click:function(e){return t.pluginsSetting("/admin/setting/theme/"+n.dir,n.name)}}}),t._v(" "),o("vxe-button",{directives:[{name:"show",rawName:"v-show",value:!n.enable,expression:"!row.enable"}],attrs:{icon:"fa fa-check",title:"启用",circle:""},on:{click:function(e){return t.chooseTheme(n.dir)}}})]}}])})],1)],1)}),[],!1,null,"e9eb7264",null);e.default=component.exports},652:function(t,e,o){"use strict";o.r(e),e.default={head:function(){return{title:"XBlog后台管理系统"}}}}}]);