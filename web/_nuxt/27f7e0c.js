(window.webpackJsonp=window.webpackJsonp||[]).push([[55,12,13],{1306:function(t,o,n){"use strict";n.r(o);var e={layout:"access",components:{loginPage:n(939).default}},r=n(5),component=Object(r.a)(e,(function(){var t=this.$createElement;return(this._self._c||t)("login-page")}),[],!1,null,null,null);o.default=component.exports},684:function(t,o,n){var content=n(725);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(9).default)("79f5db40",content,!0,{sourceMap:!1})},724:function(t,o,n){"use strict";n(684)},725:function(t,o,n){var e=n(8)(!1);e.push([t.i,'#login-account-switch[data-v-45a9c745]{margin-left:10px;float:left;font:14px "PingFangSC-Semibold";color:#333;cursor:pointer;text-decoration:none;outline:none}',""]),t.exports=e},726:function(t,o,n){var content=n(801);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(9).default)("dfe07408",content,!0,{sourceMap:!1})},727:function(t,o,n){var content=n(803);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(9).default)("5796b9d0",content,!0,{sourceMap:!1})},761:function(t,o,n){"use strict";n.r(o);var e={name:"Forget",methods:{forget:function(){var t=this;this.$prompt("请输入邮箱地址，你会收到一封带有重置密码链接的电子邮件","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then((function(o){var n=o.value;t.$store.dispatch("user/forgetPassword",{email:n}).then((function(){t.$message.success("重置链接已发至你的邮箱")})).catch((function(o){t.$message.error(o)}))})).catch((function(){}))}}},r=(n(724),n(5)),component=Object(r.a)(e,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("a",{attrs:{id:"login-account-switch",href:"javascript:void(0)"},on:{click:t.forget}},[t._v("忘记密码")])}),[],!1,null,"45a9c745",null);o.default=component.exports},800:function(t,o,n){"use strict";n(726)},801:function(t,o,n){var e=n(8)(!1);e.push([t.i,'#login .signup-form{margin-top:13vh!important}#login .slidingPictures{padding:0;width:300px;border-radius:2px}#login .clearfix{margin-top:16px;zoom:1;height:20px}#login .login-options .login-help{float:left;color:#9b9b9b;width:61px;margin-right:107px;font:14px "PingFangSC-Semibold";cursor:pointer;text-decoration:none;outline:none}#login #login-account-switch,#login .login-options .register{margin-left:10px;float:left;font:14px "PingFangSC-Semibold";color:#333;cursor:pointer;text-decoration:none;outline:none}#login a:hover{color:#00a1d6!important}',""]),t.exports=e},802:function(t,o,n){"use strict";n(727)},803:function(t,o,n){var e=n(8)(!1);e.push([t.i,"#login .loginFrom[data-v-44c3ffdf]{margin:0 20px}#login .loginFrom .login-bottom[data-v-44c3ffdf]{margin-top:15px}#login .loginFrom .login-bottom[data-v-44c3ffdf]:hover{background:rgba(28,136,188,.5)}#login .loginFrom .login-bottom[data-v-44c3ffdf]:active{background:rgba(228,199,200,.5)}#login .loginFrom .login-inputorbuttom[data-v-44c3ffdf]{height:40px;width:100%;font-size:14px}",""]),t.exports=e},939:function(t,o,n){"use strict";n.r(o);n(17);var e={name:"Login",components:{Forget:n(761).default},data:function(){return{loginIng:!1,tips:"拖动左边滑块完成上方拼图",loginData:{username:"",password:"",remember:""},rules:{user:[{required:!0,message:"请填写用户名"}],password:[{required:!0,message:"请填写密码"}]},visible:!1}},beforeCreate:function(){var t=this;this.$store.dispatch("user/userIsLogin").then((function(){t.$message.warning("你已登录,请勿重复登录"),t.$router.push("/")})).catch((function(){}))},methods:{loginButton:function(){var t=this;this.$refs.ruleForm.validate((function(o){o&&(t.visible=!0,t.login())}))},login:function(){var t=this;this.loginIng=!0,this.$store.dispatch("user/userLogin",this.loginData).then((function(){t.$message.success("登录成功！正在跳转到主页..."),setTimeout((function(){window.location.href="/"}),1e3)})).catch((function(o){t.$message.error(o)})).finally((function(){t.loginIng=!1}))}}},r=(n(800),n(802),n(5)),component=Object(r.a)(e,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{attrs:{id:"login"}},[n("el-form",{ref:"ruleForm",staticClass:"loginFrom",attrs:{model:t.loginData,rules:t.rules}},[n("el-form-item",{attrs:{prop:"userName"}},[n("el-input",{staticClass:"login-inputorbuttom",attrs:{"prefix-icon":"el-icon-user",placeholder:"登录名"},model:{value:t.loginData.username,callback:function(o){t.$set(t.loginData,"username",o)},expression:"loginData.username"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{staticClass:"login-inputorbuttom",attrs:{"prefix-icon":"el-icon-lock",placeholder:"密码",type:"password"},model:{value:t.loginData.password,callback:function(o){t.$set(t.loginData,"password",o)},expression:"loginData.password"}})],1),t._v(" "),n("el-form-item",{staticClass:"login-item"},[n("el-checkbox",{staticStyle:{"margin-top":"-7px",float:"left","margin-bottom":"-19px"},attrs:{label:"记住我的登录信息",name:"type"},model:{value:t.loginData.remember,callback:function(o){t.$set(t.loginData,"remember",o)},expression:"loginData.remember"}}),t._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"login-inputorbuttom login-bottom",attrs:{type:"primary",loading:t.loginIng},on:{click:t.loginButton}},[t._v("\n        登 录\n      ")]),t._v(" "),n("div",{staticClass:"login-options clearfix"},[n("nuxt-link",{staticClass:"login-help",attrs:{to:"/"}},[t._v("\n          返回首页\n        ")]),t._v(" "),n("forget"),t._v(" "),n("nuxt-link",{staticClass:"register",attrs:{to:"/registered"}},[t._v("\n          立即注册\n        ")])],1)],1)],1)],1)}),[],!1,null,"44c3ffdf",null);o.default=component.exports}}]);